swagger: "2.0"
info:
  description: "API Swagger for Toodledo, document link: https://api.toodledo.com/3/index.php , powered by @alswl"
  version: "3.0.0"
  title: "Swagger Toodledo"
  contact:
    email: "alswlx@gmail.com"
externalDocs:
  description: "Official toodledo API documents"
  url: "https://api.toodledo.com/3/index.php"
host: "api.toodledo.com"
basePath: "/3"
tags:
  - name: folder
  - name: context
  - name: goal
  - name: location
  - name: task
  - name: saved search
  - name: note
  - name: list
schemes:
  - "https"
securityDefinitions:
  OAuth2:
    type: oauth2
    flow: accessCode
    authorizationUrl: https://api.toodledo.com/3/account/authorize.php
    tokenUrl: https://api.toodledo.com/3/account/token.php
    scopes:
      read: Grants read access
      write: Grants write access
paths:
  /folders/get.php:
    get:
      tags:
        - "folder"
      security:
        - OAuth2:
            - read
            - write
      produces:
        - "application/json"
      responses:
        "200":
          description: "ok"
          schema:
            type: "array"
            items:
              $ref: "#/definitions/Folder"
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'
  /folders/add.php:
    post:
      tags:
        - "folder"
      security:
        - OAuth2:
            - read
            - write
      consumes:
        - "application/json"
      produces:
        - "application/xml"
        - "application/json"
      parameters:
        - in: "query"
          type: string
          name: "name"
          required: true
        - in: "query"
          name: "private"
          type: integer
          required: false
      responses:
        "200":
          description: ok
          schema:
            type: "array"
            items:
              $ref: "#/definitions/Folder"
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'
  /folders/edit.php:
    post:
      tags:
        - "folder"
      security:
        - OAuth2:
            - read
            - write
      consumes:
        - "application/json"
      produces:
        - "application/xml"
        - "application/json"
      parameters:
        - in: "query"
          type: string
          name: "id"
          required: true
        - in: "query"
          type: string
          name: "name"
        - in: "query"
          name: "private"
          type: integer
        - in: "query"
          name: "archived"
          type: integer
      responses:
        "200":
          description: ok
          schema:
            type: "array"
            items:
              $ref: "#/definitions/Folder"
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'
  /folders/delete.php:
    post:
      tags:
        - "folder"
      security:
        - OAuth2:
            - read
            - write
      consumes:
        - "application/json"
      produces:
        - "application/xml"
        - "application/json"
      parameters:
        - in: "query"
          name: "id"
          type: integer
          required: true
      responses:
        "200":
          description: ok
          schema:
            type: "object"
            properties:
              deleted:
                type: integer
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'
  /contexts/get.php:
    get:
      tags:
        - "context"
      security:
        - OAuth2:
            - read
            - write
      produces:
        - "application/json"
      responses:
        "200":
          description: "ok"
          schema:
            type: "array"
            items:
              $ref: "#/definitions/Context"
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'
  /contexts/add.php:
    post:
      tags:
        - "context"
      security:
        - OAuth2:
            - read
            - write
      consumes:
        - "application/json"
      produces:
        - "application/xml"
        - "application/json"
      parameters:
        - in: "query"
          type: string
          name: "name"
          required: true
        - in: "query"
          name: "private"
          type: integer
          required: false
      responses:
        "200":
          description: ok
          schema:
            type: "array"
            items:
              $ref: "#/definitions/Context"
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'
  /contexts/edit.php:
    post:
      tags:
        - "context"
      security:
        - OAuth2:
            - read
            - write
      consumes:
        - "application/json"
      produces:
        - "application/xml"
        - "application/json"
      parameters:
        - in: "query"
          type: string
          name: "id"
          required: true
        - in: "query"
          type: string
          name: "name"
        - in: "query"
          name: "private"
          type: integer
      responses:
        "200":
          description: ok
          schema:
            type: "array"
            items:
              $ref: "#/definitions/Context"
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'
  /contexts/delete.php:
    post:
      tags:
        - "context"
      security:
        - OAuth2:
            - read
            - write
      consumes:
        - "application/json"
      produces:
        - "application/xml"
        - "application/json"
      parameters:
        - in: "query"
          name: "id"
          type: integer
          required: true
      responses:
        "200":
          description: ok
          schema:
            type: "object"
            properties:
              deleted:
                type: integer
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'

  /goals/get.php:
    get:
      tags:
        - "goal"
      security:
        - OAuth2:
            - read
            - write
      produces:
        - "application/json"
      responses:
        "200":
          description: "ok"
          schema:
            type: "array"
            items:
              $ref: "#/definitions/Goal"
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'
  /goals/add.php:
    post:
      tags:
        - "goal"
      security:
        - OAuth2:
            - read
            - write
      consumes:
        - "application/json"
      produces:
        - "application/xml"
        - "application/json"
      parameters:
        - in: "query"
          type: string
          name: "name"
          required: true
        - in: "query"
          type: integer
          name: "level"
        - in: "query"
          type: integer
          name: "contributes"
        - in: "query"
          name: "private"
          type: integer
        - in: "query"
          type: string
          name: "note"
      responses:
        "200":
          description: ok
          schema:
            type: "array"
            items:
              $ref: "#/definitions/Goal"
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'
  /goals/edit.php:
    post:
      tags:
        - "goal"
      security:
        - OAuth2:
            - read
            - write
      consumes:
        - "application/json"
      produces:
        - "application/xml"
        - "application/json"
      parameters:
        - in: "query"
          type: string
          name: "id"
          required: true
        - in: "query"
          type: string
          name: "name"
        - in: "query"
          type: integer
          name: "level"
        - in: "query"
          type: integer
          name: "contributes"
        - in: "query"
          name: "archived"
          type: integer
        - in: "query"
          name: "private"
          type: integer
        - in: "query"
          type: string
          name: "note"
      responses:
        "200":
          description: ok
          schema:
            type: "array"
            items:
              $ref: "#/definitions/Goal"
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'
  /goals/delete.php:
    post:
      tags:
        - "goal"
      security:
        - OAuth2:
            - read
            - write
      consumes:
        - "application/json"
      produces:
        - "application/xml"
        - "application/json"
      parameters:
        - in: "query"
          name: "id"
          type: integer
          required: true
      responses:
        "200":
          description: ok
          schema:
            type: "object"
            properties:
              deleted:
                type: integer
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '429':
          description: TooManyRequests
          schema:
            $ref: '#/definitions/Error'
        '503':
          description: ServiceUnavailable
          schema:
            $ref: '#/definitions/Error'

definitions:
  Error:
    type: object
    properties:
      errorCode:
        type: integer
      errorDesc:
        type: string
    required:
      - errorCode
      - errorDesc
  Folder:
    type: "object"
    properties:
      id:
        type: "integer"
      name:
        type: "string"
      private:
        type: "integer"
      archived:
        type: "integer"
      ord:
        type: "integer"
  Context:
    type: "object"
    properties:
      id:
        type: "integer"
      name:
        type: "string"
      private:
        type: "integer"
  Goal:
    type: "object"
    properties:
      id:
        type: "integer"
      level:
        type: "integer"
      contributes:
        type: "integer"
      name:
        type: "string"
      archived:
        type: "integer"
      private:
        type: "integer"
      note:
        type: "string"
  ApiResponse:
    type: "object"
    properties:
      code:
        type: "integer"
      type:
        type: "string"
      message:
        type: "string"